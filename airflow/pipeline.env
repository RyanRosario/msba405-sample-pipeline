# ══════════════════════════════════════════════════════════════════════════════
# pipeline.env — Environment configuration for fhvhv_spark_to_duckdb DAG
# ══════════════════════════════════════════════════════════════════════════════
#
# SETUP INSTRUCTIONS
# ──────────────────
# 1. Copy and fill in your values:
#
#       cp pipeline.env.example pipeline.env
#
# 2. Load before starting Airflow:
#
#       set -a && source pipeline.env && set +a
#       bash install_airflow.sh
#
# 3. Deploy the DAG:
#
#       cp pipeline.py $AIRFLOW_HOME/dags/
#
# 4. Trigger the pipeline:
#
#       airflow dags trigger fhvhv_spark_to_duckdb
#
# ══════════════════════════════════════════════════════════════════════════════
# AIRFLOW
# ══════════════════════════════════════════════════════════════════════════════

AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=changeme   # !! REQUIRED: change this before running !!
AIRFLOW_ADMIN_EMAIL=admin@example.com
AIRFLOW_VERSION=3.1.7
AIRFLOW_PORT=8080
VENV_DIR=/home/ubuntu/airflow-venv

# Required in Airflow 3 to enable airflow users CLI and FAB-based login
AIRFLOW__CORE__AUTH_MANAGER=airflow.providers.fab.auth_manager.fab_auth_manager.FabAuthManager

# ══════════════════════════════════════════════════════════════════════════════
# PIPELINE
# ══════════════════════════════════════════════════════════════════════════════

# Root of your pipeline project — all other paths resolve relative to this
# Expected layout:
#   $PIPELINE_BASE_DIR/
#     data/
#       fhvhv_tripdata_2024-01.parquet
#       fhvhv_tripdata_2024-02.parquet
#       ... (through 2024-12)
#       taxi_zone_lookup.csv
#       72505394728.csv
#     spark/
#       spark-job.py
#     output/          (created automatically per month)
#     duckdb/
#       final.db
#       queries.sql
PIPELINE_BASE_DIR=/path/to/your/pipeline

# ── Optional overrides ────────────────────────────────────────────────────────

# Path to DuckDB binary (default: 'duckdb' on PATH)
# DUCKDB_EXECUTABLE=duckdb

# DuckDB database file, relative to PIPELINE_BASE_DIR
# DUCKDB_DATABASE=duckdb/final.db

# DuckDB SQL queries file, relative to PIPELINE_BASE_DIR
# DUCKDB_QUERIES=duckdb/queries.sql

